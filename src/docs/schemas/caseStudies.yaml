components:
  schemas:
    CaseStudy:
      type: object
      required:
        - id
        - title
        - slug
        - problem
        - solution
        - outcomes
        - metaTitle
        - metaDescription
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
        slug:
          type: string
        overview:
          type: string
          description: "Overview statement (rich text)"
        problem:
          type: string
          description: "Problem statement (rich text)"
        solution:
          type: string
          description: "Solution description (rich text)"
        outcomes:
          type: array
          description: "Array of KPIs and results"
          items:
            type: object
            properties:
              metric:
                type: string
                example: "Revenue increase"
              value:
                type: string
                example: "30%"
        client:
          type: string
          nullable: true
          description: "Client name or sector"
        status:
          type: string
          enum: [draft, published, scheduled, archived]
          default: draft
        metaTitle:
          type: string
          description: "SEO meta title (required)"
        metaDescription:
          type: string
          description: "SEO meta description (required)"
        seoKeywords:
          type: array
          nullable: true
          description: "Array of SEO keywords (max 10)"
          items:
            type: string
            example: "digital transformation"
        publishedAt:
          type: string
          format: date-time
          nullable: true
        isFeatured:
          type: boolean
          default: false
        thumbnailMedia:
          type: object
          nullable: true
          properties:
            id:
              type: string
              format: uuid
            fileName:
              type: string
            altText:
              type: string
              nullable: true
            url:
              type: string
        publication:
          type: object
          nullable: true
          description: "Publication media (PDF, etc)"
          properties:
            id:
              type: string
              format: uuid
            fileName:
              type: string
            altText:
              type: string
              nullable: true
            url:
              type: string
        serviceId:
          type: string
          format: uuid
          description: Case Study service
        industryId:
          type: string
          format: uuid
          description: Case Study industry
        creator:
          type: object
          properties:
            id:
              type: string
              format: uuid
            name:
              type: string
        updater:
          type: object
          nullable: true
          properties:
            id:
              type: string
              format: uuid
            name:
              type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        deletedAt:
          type: string
          format: date-time
          nullable: true

    CreateCaseStudy:
      type: object
      required:
        - title
        - slug
        - overview
        - problem
        - solution
        - outcomes
        - metaTitle
        - metaDescription
        - status
        - service
        - industry
      properties:
        title:
          type: string
          description: "Case study title"
        slug:
          type: string
          description: "URL-friendly slug (must be unique)"
        overview:
          type: string
          description: "Overview statement (rich text, required)"
          maxLength: 15000
        problem:
          type: string
          description: "Problem statement (rich text, required)"
          maxLength: 15000
        solution:
          type: string
          description: "Solution description (rich text, required)"
          maxLength: 15000
        outcomes:
          type: array
          description: "Array of KPIs and results (required, min 1)"
          minItems: 1
          items:
            type: object
            required:
              - metric
              - value
            properties:
              metric:
                type: string
                example: "Revenue increase"
              value:
                type: string
                example: "30%"
              description:
                type: string
                nullable: true
        client:
          type: string
          nullable: true
          description: "Client name or sector"
        thumbnailId:
          type: string
          format: uuid
          nullable: true
          description: "Media ID for thumbnail image"
        publicationId:
          type: string
          format: uuid
          nullable: true
          description: "Media ID for publication file (PDF, etc)"
        status:
          type: string
          enum: [draft, published, scheduled, archived]
          default: draft
          description: "Publication status"
        metaTitle:
          type: string
          description: "SEO meta title (required, max 60 chars)"
          maxLength: 60
        metaDescription:
          type: string
          description: "SEO meta description (required, max 160 chars)"
          maxLength: 160
        seoKeywords:
          type: array
          nullable: true
          description: "Array of SEO keywords (optional, max 10)"
          maxItems: 10
          items:
            type: string
            maxLength: 50
            example: "digital transformation"
        publishedAt:
          type: string
          format: date-time
          nullable: true
          description: "Publication date (ISO 8601 format)"
        isFeatured:
          type: boolean
          nullable: true
          default: false
          description: "Whether the case study is featured"
        serviceId:
          type: string
          format: uuid
          description: Article service
        industryId:
          type: string
          format: uuid
          description: Article industry
        capabilities:
          type: array
          nullable: true
          description: "Array of capability UUIDs (optional)"
          items:
            type: string
            format: uuid
          example: ["550e8400-e29b-41d4-a716-446655440002"]

    UpdateCaseStudy:
      type: object
      properties:
        title:
          type: string
          description: "Case study title"
          maxLength: 255
        slug:
          type: string
          description: "URL-friendly slug (must be unique)"
          pattern: "^[a-z0-9-]+$"
          maxLength: 255
        overview:
          type: string
          description: "Overview statement (rich text)"
          maxLength: 15000
        problem:
          type: string
          description: "Problem statement (rich text)"
          maxLength: 15000
        solution:
          type: string
          description: "Solution description (rich text)"
          maxLength: 15000
        outcomes:
          type: array
          description: "Array of KPIs and results"
          items:
            type: object
            required:
              - metric
              - value
            properties:
              metric:
                type: string
                example: "Revenue increase"
              value:
                type: string
                example: "30%"
              description:
                type: string
                nullable: true
        client:
          type: string
          nullable: true
          description: "Client name or sector"
        thumbnailId:
          type: string
          format: uuid
          nullable: true
          description: "Media ID for thumbnail image"
        publicationId:
          type: string
          format: uuid
          nullable: true
          description: "Media ID for publication file"
        status:
          type: string
          enum: [draft, published, scheduled, archived]
          description: "Publication status"
        metaTitle:
          type: string
          description: "SEO meta title (max 60 chars)"
          maxLength: 60
        metaDescription:
          type: string
          description: "SEO meta description (max 160 chars)"
          maxLength: 160
        seoKeywords:
          type: array
          nullable: true
          description: "Array of SEO keywords (max 10)"
          maxItems: 10
          items:
            type: string
            maxLength: 50
        publishedAt:
          type: string
          format: date-time
          nullable: true
          description: "Publication date (ISO 8601 format)"
        isFeatured:
          type: boolean
          nullable: true
          description: "Whether the case study is featured"
        serviceId:
          type: string
          format: uuid
          description: Case Study service
        industryId:
          type: string
          format: uuid
          description: Case Study industry
